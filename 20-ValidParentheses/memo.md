# 20. Valid Parentheses
# はじめに
 - Step1
     - 初見で解く
     - 知らなければできないことは調べる
 - Step2
     - なんでも使ってコードを洗練させる
 - Step3
     - 何も見ずにStep1の思考でStep2と同等のコードを3回繰り返してすらすら書く

## step1
類題を解いたことがあったので、スタックを使えば割と簡単にできると思った。
左カッコは問答無用でスタックに入れて、右カッコが出てきた時に、対応する左カッコがスタックの先頭に来ておけば、左カッコとまとめて`pop`して、来てなければ`false`を返す。最終的にスタックが空になっていれば、`true`を返す。それ以外は`false`という感じ。

これ以外の解決方法は思いつかなかった。

最初は、`()`,`{}`,`[]`を全てif文で個別に判定しようとしてたが、対応するカッコを`map`などでまとめておけば、処理を共通化できると思ったので、共通化した。

処理の共通化は、（例えば、後から`[]`の扱いだけ特別にしたい！みたいになった時に少し面倒なため、）出来るだけ共通化したほうがいいというものでも無いと思っているが、今回の問題では共通化した。

最初、途中でスタックが空になるケースの考慮をできておらず、エラーを吐かれてしまった。

あと `return` の判定ももう少し綺麗に書けると思うので、STEP2で改善する。

## step2
見やすくなるように書き直した。
対応するカッコを記録しておく`map`の変数名を`matching_parentheses`をより実態に合わせて`matching_of_close_parenthesis`にしたが、いまいちしっくりくるものを思いつかなかった。
先にfalseかどうかの判定を行うようにした、少し見やすくなったと思う。

## 他の方の回答を見てみる
- 自分の命名である`remaining_parentheses`よりも、他の方の`open_parentheses`(`open_brackets`)の方が実態に合っていると感じた。（また、parenthesesよりbracketsの方が短くて良いと感じた。）

https://github.com/koko5959/leetcode-practice/pull/3/files
- 自分の`matching_of_close_parenthesis`より、他の方の`close_to_open`の方がコンパクトで見やすい
- > `open_to_close = {"(": ")", "[": "]", "{": "}"}` としたほうが読みやすいかもしれません。

    確かにその通りだと感じた。
    また、左カッコは問答無用でプッシュするが、その際も`open_to_close`に`.contains()`で判定できるのも良いと思った。
- 見やすくなるように頑張ったつもりだったが、`if`, `continue` を使うことで、もっと見やすくできると知った。
- `open_to_close`は定数として扱うので、メンバ変数にして`private`修飾子をつけてる方がいて、良いと思った。
- `return open_brackets.empty();` 最後、こうするだけで十分なことに今まで気づくことができなかった。

クラスを定義してメンバ変数を書いて、といったことを授業以外ではあまりやってなかったので、非常に勉強になった。
https://theolizer.com/cpp-school1/cpp-school1-28/

## step3
他の方のコードを参考にして、STEP2から更に書き直したコードを、3回書き直した。
